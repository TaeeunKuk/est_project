/* frontend/src/assets/styles/main.scss */
@use "./common";
@use "./components/auth";
@use "./components/calendar";
@use "./components/category";
@use "./components/todolist";

@use "./variables" as v;
@use "./mixins" as m;

// Dashboard Layout (Main)
.dashboard-container {
  max-width: v.$container-max-width;
  margin: 0 auto;
  height: 100vh;
  @include m.flex-column;

  .dashboard-header {
    flex: 0 0 v.$header-height;
    @include m.flex-between;
    padding: 0 2rem;
    background: v.$white;
    border-bottom: 1px solid v.$border-color;

    .brand h1 {
      font-size: 1.25rem;
      color: v.$primary-color;
      font-weight: 700;
    }

    .user-info {
      display: flex;
      gap: 1rem;
      align-items: center;
      font-size: v.$font-size-sm;

      .btn-logout {
        border: 1px solid #cbd5e0;
        background: v.$white;
        padding: 6px 14px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 0.9rem;
        transition: 0.2s;
        &:hover {
          background: v.$border-light;
        }
      }
    }
  }

  .dashboard-content {
    flex: 1;
    display: grid;
    grid-template-columns: v.$sidebar-width 1fr;
    gap: 20px;
    padding: 24px;
    overflow: hidden;
    height: calc(100vh - #{v.$header-height});
  }
}

/* =========================================
   Override TodoList internal styles for updated layout
   (components/_todolist.scss 내용이 main.scss에 포함되는 구조이므로
    아래에 변경된 내부 스타일을 명시합니다. 
    실제로는 _todolist.scss를 수정하는 것이 좋으나, 
    요청하신 대로 '전체 코드'를 제공하기 위해 여기에 합칩니다.)
   ========================================= */

.todo-list-container {
  .top-control-bar {
    // 설정 버튼 제거됨
    .btn-settings {
      display: none;
    }
  }

  .creation-card {
    .options-row {
      display: flex;
      align-items: center;
      gap: 12px; // 버튼과 분류 사이 간격
      padding-top: 4px;

      // [NEW] 인라인 설정 버튼 스타일
      .btn-settings-inline {
        color: v.$text-sub;
        font-size: 1.1rem;
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
        &:hover {
          background-color: v.$border-light;
          color: v.$primary-color;
        }
      }

      .option-group {
        display: flex;
        align-items: center;
        gap: 10px;
        position: relative;
        .label {
          font-size: 0.85rem;
          font-weight: 700;
          color: v.$text-sub;
        }

        // Custom Dropdown (기존 유지)
        .custom-dropdown-container {
          position: relative;
          .dropdown-trigger {
            @include m.flex-between;
            gap: 6px;
            padding: 4px 10px;
            background: v.$white;
            border: 1px solid v.$border-color;
            border-radius: 8px;
            color: v.$text-sub;
            font-size: 0.85rem;
            font-weight: 500;
            width: 160px;
            transition: 0.2s;
            .trigger-content {
              display: flex;
              align-items: center;
              gap: 10px;
              overflow: hidden;
              .icon {
                font-size: 0.9rem;
                flex-shrink: 0;
              }
              .dot {
                width: 12px;
                height: 12px;
                border-radius: 50%;
                flex-shrink: 0;
              }
              .text {
                @include m.text-ellipsis;
              }
            }
            .arrow {
              font-size: 1rem;
              color: v.$text-light;
              flex-shrink: 0;
            }
            &:hover {
              border-color: #cbd5e0;
              background: v.$white;
            }
            &.has-value {
              font-weight: 700;
              border-width: 1px;
            }
          }
          // ... dropdown menu styles ...
        }
      }
    }
  }
}
